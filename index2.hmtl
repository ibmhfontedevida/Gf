
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrinho de Compras</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #3370B7;
      color: #fff;
      text-align: center;
      padding: 20px 0;
    }

    h1 {
      font-size: 28px;
      margin: 0;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      border-bottom: 1px solid #ddd;
    }

    .item {
      font-size: 18px;
      color: #333;
      flex-grow: 1;
    }

    .item-checkbox {
      margin-right: 10px;
    }

    .availability {
      font-weight: bold;
    }

    .available {
      color: green;
    }

    .unavailable {
      color: red;
    }

    .quantity-controls {
      display: flex;
      align-items: center;
      margin-left: 10px;
    }

    .quantity-controls button {
      background-color: #3370B7;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      padding: 2px 6px;
      margin: 0 5px;
    }

    .quantity-controls button:hover {
      background-color: #265b9a;
    }

    button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background-color: #3370B7;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #265b9a;
    }

    footer {
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 10px 0;
    }

    .error-message {
      color: red;
      font-weight: bold;
      margin-left: 10px;
    }

    .item-price {
      font-weight: bold;
    }

    .total-price {
      font-weight: bold;
      text-align: right;
    }
    .item-price {
      font-weight: bold;
    }

    .total-price {
      font-weight: bold;
      text-align: right;
    }
  </style>
</head>
<body>
  <header>
    <h1>Carrinho de Compras</h1>
  </header>
  <ul>
    <li>
      <input type="checkbox" class="item-checkbox">
      <span class="item">PET MURAMOX C/T</span>
      <span class="availability available">Disponível</span>
      <div class="quantity-controls">
        <button class="decrement">-</button>
        <span class="quantity">1</span>
        <button class="increment">+</button>
      </div>
      <span class="item-price">R$ 1.00</span>
    </li>
    <li>
      <input type="checkbox" class="item-checkbox">
      <span class="item">RUNA DE TRANSFORMAÇÃO C'LUTH (DRAGAO ROXO PEQUENO ) C/T</span>
      <span class="availability available">Disponível</span>
      <div class="quantity-controls">
        <button class="decrement">-</button>
        <span class="quantity">1</span>
        <button class="increment">+</button>
      </div>
      <span class="item-price">R$ 3.40</span>
    </li>
    <li>
      <input type="checkbox" class="item-checkbox">
      <span class="item">GM LINK</span>
      <span class="availability available">Disponível</span>
      <div class="quantity-controls">
        <button class="decrement">-</button>
        <span class="quantity">1</span>
        <button class="increment">+</button>
      </div>
      <span class="item-price">R$ 6.00</span>
    </li>
  </ul>
  <button id="enviar-button">Enviar pelo WhatsApp</button>
  <p class="error-message" style="display: none;">Selecione pelo menos um item.</p>
  <p class="total-price">Total: R$ 0.00</p>
  
  <script>
    // O restante do seu JavaScript permanece o mesmo

    // Função para calcular e atualizar o valor total
    function calcularTotal() {
      let total = 0;

      checkboxes.forEach((checkbox, index) => {
        if (checkbox.checked) {
          const quantity = parseInt(document.querySelectorAll('.quantity')[index].textContent);
          const itemPriceText = document.querySelectorAll('.item-price')[index].textContent;
          const itemPrice = parseFloat(itemPriceText.replace('R$ ', '').replace(',', '.')); // Converte o preço para um número

          total += quantity * itemPrice;
        }
      });

      // Atualiza o elemento HTML que mostra o valor total
      const totalElement = document.querySelector('.total-price');
      totalElement.textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    // Chama a função de cálculo do total quando a página carregar
    window.addEventListener('load', calcularTotal);
    // Obtém todos os elementos de caixa de seleção
    const checkboxes = document.querySelectorAll('.item-checkbox');

    // Botão de envio
    const enviarButton = document.getElementById('enviar-button');

    // Mensagem de erro
    const errorMessage = document.querySelector('.error-message');

    // Itens disponíveis e indisponíveis
    const itensDisponiveis = [
      "PET MURAMOX C/T", "GM LINK", "RUNA DE TRANSFORMAÇÃO C'LUTH (DRAGAO ROXO PEQUENO ) C/T"
    ];

    const itensIndisponiveis = [
    ];

    // Nomes personalizados para disponível e indisponível
    const nomeDisponivel = "Disponível";
    const nomeIndisponivel = "Indisponível";

    // Adicionar funcionalidade aos botões de quantidade
    const quantityControls = document.querySelectorAll('.quantity-controls');
    quantityControls.forEach((controls, index) => {
      const decrementButton = controls.querySelector('.decrement');
      const incrementButton = controls.querySelector('.increment');
      const quantityDisplay = controls.querySelector('.quantity');

      let quantity = 1; // Valor inicial

      // Decrementar quantidade
      decrementButton.addEventListener('click', () => {
        if (quantity > 1) {
          quantity--;
          quantityDisplay.textContent = quantity;
          calcularTotal(); // Chama a função para calcular o total
        }
      });

      // Incrementar quantidade
      incrementButton.addEventListener('click', () => {
        quantity++;
        quantityDisplay.textContent = quantity;
        calcularTotal(); // Chama a função para calcular o total
      });
    });

    // Função para calcular e atualizar o valor total
    function calcularTotal() {
      let total = 0;

      checkboxes.forEach((checkbox, index) => {
        if (checkbox.checked) {
          const quantity = parseInt(document.querySelectorAll('.quantity')[index].textContent);
          const itemPriceText = document.querySelectorAll('.item-price')[index].textContent;
          const itemPrice = parseFloat(itemPriceText.replace('R$ ', '').replace(',', '.')); // Converte o preço para um número

          total += quantity * itemPrice;
        }
      });

      // Atualiza o elemento HTML que mostra o valor total
      const totalElement = document.querySelector('.total-price');
      totalElement.textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    // Chama a função de cálculo do total quando a página carregar
    window.addEventListener('load', calcularTotal);

    // Manipulador de clique para o botão de envio
    enviarButton.addEventListener('click', () => {
      // Verifica se pelo menos um item foi selecionado
      const peloMenosUmSelecionado = Array.from(checkboxes).some(checkbox => checkbox.checked);

      if (!peloMenosUmSelecionado) {
        // Mostra a mensagem de erro
        errorMessage.style.display = 'block';
      } else {
        // Limpa a mensagem de erro se pelo menos um item
        errorMessage.style.display = 'none';

        // Array para armazenar os itens selecionados
        const itensSelecionados = [];

        // Itera sobre as caixas de seleção
        checkboxes.forEach((checkbox, index) => {
          if (checkbox.checked) {
            // Se a caixa de seleção estiver marcada, adiciona o item ao array
            const itemText = document.querySelectorAll('.item')[index].textContent;
            const quantity = document.querySelectorAll('.quantity')[index].textContent;
            itensSelecionados.push(`${itemText} (Quantidade: ${quantity})`);
          }
        });

        // Gera o texto da mensagem com os itens selecionados
        const mensagem = `Itens selecionados:\n${itensSelecionados.join('\n')}`;

        // Cria o link do WhatsApp com a mensagem e o número de telefone
        const numeroTelefone = '+5527999857230'; // Substitua pelo número desejado
        const linkWhatsApp = `https://wa.me/${numeroTelefone}/?text=${encodeURIComponent(mensagem)}`;

        // Abre uma nova janela com o link do WhatsApp
        window.open(linkWhatsApp);
      }
    });
  </script>
  <footer>
    &copy; 2023 Nome da Sua Empresa
  </footer>
</body>
</html>
